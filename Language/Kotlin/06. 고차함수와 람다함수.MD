# 고차함수

> 고차함수란

고차함수란 함수를 마치 클래스에서 만들어낸 인스턴스처럼 취급하는 방법이다

이때 결과값으로 반환 받을 수도 있고 함수를 파라미터로 넘겨 줄 수도 있다

> **🤷‍♀️ 그러면 이때 함수를 파라미터 받을 때에의 함수의 자료형은 어떻게 해야할까 ?**

```
(자료형, 자료형) -> 자료형
```

**이럴땐 위와 같이 괄호안에 함수가 받을 파라미터의 자료형을 나열하고 ,**

**-> 를 이용하여 함수의 반환형을 써주면 된다**

> **✍ 구현**

```
fun main() {

    b(::a)   

}

fun a (str: String) {
    
    println("$str 함수 a")

}

fun b (function: (String)->Unit) {      // 함수의 반환형이 없기에 Unit
    
    function("b가 호출한")

}

```

**결과 값**

```
b가 호출한 함수 a
```

> **🚛 과정**

-> **main 함수** 가 **a 함수** 를 **b 함수** 에 파라미터로 넘긺

-> **b** 는 받아온 **a** 에 "b가 호출한" 이라는 값을 넘겨 **a** 호출

-> 최종적으로 **a** 실행 + "b가 호출한 함수 a" 출력

이것이 고차함수이다

<br>

> **🤷‍♀️ 그런데 이렇게 패러미터로 넘길 함수를 굳이 이름까지 붙여 만들어야 할까 ?**

이 때는 함수를 람다식으로 표현하는 람다함수를 사용한다

방금 구현한 고차함수의 코드에 람다함수를 적용해보자

> **✍ 구현**

```
fun main() {

    val c: (String)->Unit = { str -> println("$str 람다함수")}
    b(c)

}

fun b (function: (String)->Unit) {
    
    function("b가 호출한")

}
```

> **🚛 과정**

람다함수는 자체가 고차함수이기 때문에

별도의 연산자 없이도 변수에 담을 수 있다

우선 임시의 변수 **c** 를 만들고 콜론 뒤에 고차함수에서 사용했던 함수의 형식을 쓴다

그리고 이퀄(=) 뒤부터는 람다함수의 동작 부분이 된다

여기서 str 은 파라미터로 받아온 문자열을 매칭해 줄 변수 이름을 써준다

그러면 이제 파라미터로 동작시킬 구문을 써야하는데

함수의 형식과 같이 화살표 형태를 써준 후 

파라미터로 받아온 문자열 뒤에 람다함수라고 출력해준다

그렇게 함수 b 에 람다함수 c 를 넘겨 실행하면

고차함수와 동일한 구조로 

```
b가 호출한 람다함수 
```

라는 결과 값이 나온다

> **➕ 람다함수를 변수에 할당할 때 좀 더 축약할 순 없을까 ?**

이럴땐 타입추론 기능을 이용하여 축약이 가능하다

> **✍ 구현**

```
val c = {str: String -> println("$str 람다함수")}
```

> **🚛 과정**

c 에서 함수의 형식을 적지않고 (val c)

람다식 안에만 파라미터의 자료형을 기술한다 (str: String)

이렇게 되면 Kotlin 이 String 하나를 받지만 반환값은 없다고

자동으로 추론하고 이에 맞는 함수 형식의 객체로 변수에

(String -> Unit) 을 자료형 (val c : ~ ) 으로 저장해준다

> **❕ 정리**

고차함수와 람다함수를 사용하면

함수를 변수로 사용 할 수 있는 편의성이 있다






